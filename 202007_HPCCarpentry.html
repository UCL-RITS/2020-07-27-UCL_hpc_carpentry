<!doctype html>
<html lang="en">
<head>
<title>2020-07-27-UCL</title>
<meta name="generator" content="Etherpad">
<meta name="author" content="Etherpad">
<meta name="changedby" content="Etherpad">
<meta charset="utf-8">
<style>
* {
  font-family: arial, sans-serif;
  font-size: 13px;
  line-height: 17px;
}
ul.indent {
  list-style-type: none;
}
ol {
  list-style-type: none;
  padding-left: 0;
}
body > ol {
  counter-reset: first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth;
}
ol > li:before {
  content: counter(first) ". ";
  counter-increment: first;
}
ol > ol > li:before {
  content: counter(first) "." counter(second) ". ";
  counter-increment: second;
}
ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) ". ";
  counter-increment: third;
}
ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) ". ";
  counter-increment: fourth;
}
ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) ". ";
  counter-increment: fifth;
}
ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) ". ";
  counter-increment: sixth;
}
ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) ". ";
  counter-increment: seventh;
}
ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eighth) ". ";
  counter-increment: eighth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eighth) "." counter(ninth) ". ";
  counter-increment: ninth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eighth) "." counter(ninth) "." counter(tenth) ". ";
  counter-increment: tenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eighth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) ". ";
  counter-increment: eleventh;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eighth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelfth) ". ";
  counter-increment: twelfth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eighth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelfth) "." counter(thirteenth) ". ";
  counter-increment: thirteenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eighth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelfth) "." counter(thirteenth) "." counter(fourteenth) ". ";
  counter-increment: fourteenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eighth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelfth) "." counter(thirteenth) "." counter(fourteenth) "." counter(fifteenth) ". ";
  counter-increment: fifteenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eighth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelfth) "." counter(thirteenth) "." counter(fourteenth) "." counter(fifteenth) "." counter(sixteenth) ". ";
  counter-increment: sixteenth;
}
ol {
  text-indent: 0px;
}
ol > ol {
  text-indent: 10px;
}
ol > ol > ol {
  text-indent: 20px;
}
ol > ol > ol > ol {
  text-indent: 30px;
}
ol > ol > ol > ol > ol {
  text-indent: 40px;
}
ol > ol > ol > ol > ol > ol {
  text-indent: 50px;
}
ol > ol > ol > ol > ol > ol > ol {
  text-indent: 60px;
}
ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 70px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 80px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 90px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 100px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 110px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 120px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 130px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 140px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 150px;
}
h1{font-size: 2.5em;}              h2{font-size: 1.8em;}              h3{font-size: 1.5em;}              h4{font-size: 1.2em;}              code{font-family: RobotoMono;}
</style>
</head>
<body>
Welcome to The Carpentries Etherpad!<br><br>This pad is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents.<br><br>Use of this service is restricted to members of The Carpentries community; this is not for general purpose use (for that, try <a href="https&#x3a;&#x2F;&#x2F;etherpad&#x2e;wikimedia&#x2e;org&#x29;" rel="noreferrer noopener">https:&#x2F;&#x2F;etherpad.wikimedia.org)</a>.<br><br>Users are expected to follow our code of conduct: <a href="https&#x3a;&#x2F;&#x2F;docs&#x2e;carpentries&#x2e;org&#x2F;topic&#x5f;folders&#x2F;policies&#x2F;code&#x2d;of&#x2d;conduct&#x2e;html" rel="noreferrer noopener">https:&#x2F;&#x2F;docs.carpentries.org&#x2F;topic_folders&#x2F;policies&#x2F;code-of-conduct.html</a><br><br>All content is publicly available under the Creative Commons Attribution License: <a href="https&#x3a;&#x2F;&#x2F;creativecommons&#x2e;org&#x2F;licenses&#x2F;by&#x2F;4&#x2e;0&#x2F;" rel="noreferrer noopener">https:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by&#x2F;4.0&#x2F;</a><br><br>&nbsp;----------------------------------------------------------------------------<br><h3>Call link:</h3><br><strong>Blackboard Collaborate:</strong>&nbsp;<br><br><h3>Participants</h3><br><br><code>Instructors (in order of appearance)</code><br><ul class="bullet"><li>name | pronoun |&nbsp;</li><li>Matthew Gillman&nbsp; |&nbsp; |&nbsp;</li><li>Heather Kelly | she |&nbsp;</li><li>Tuomas Koskela | he&#x2F;him | MacOS -- Research Software Developer &#x2F; former plasma physicist</ul><br><strong>Helpers</strong> (in not any special order)<br><ul class="bullet"><li>name | pronoun | other info</li><li>Hillary Bunketi | she&#x2F;her</li><li>Ian Kirker | he&#x2F;him&#x2F;&#x2F;they&#x2F;them | macOS (HPC Cluster Support &#x2F; former Computational Chemist)</li><li>Tom Couch |</ul><br><strong>Presenter</strong> - Room DJ<br><ul class="bullet"><li>name | pronoun |&nbsp;</li><li>David P&#233;rez-Su&#225;rez | He-him-his&nbsp; |&nbsp;</ul><br><strong>Learners &#x2F; Check in</strong><br><ul class="bullet"><li>Name | pronoun | Operative System &amp; Other info you would like to share |&nbsp; Helper assigned to you</li><li>Angelos Kalitzeos | He | Linux - Institute of Ophthalmology, Postdoc&nbsp;&nbsp;&nbsp;&nbsp; Hillary&nbsp;</li><li>Jadesada Schneider | He&#x2F;him&#x2F;they| MacOS - Genetics, Evolution, Environment - Undergrad Intern&nbsp;&nbsp;&nbsp;&nbsp; Hillary&nbsp;</li><li>Jenifer Suntharalingham|She|Windows&nbsp; Ian&nbsp;</li><li>Marina | She | Windows&nbsp;&nbsp; Ian&nbsp;</li><li>Alex Ho | He | Windows&nbsp; David</li><li>Alasdair Warwick | He | MacOS - medic, 1st year (end of) PhD&nbsp; David</li><li>&nbsp;Wei Cui&nbsp;&nbsp; | He | Mac OS- economics department lecturer&nbsp;&nbsp; Ian</li><li>&nbsp;Mi |&nbsp; | Windows | David</li><li>&nbsp;Sam | He&#x2F;him&#x2F;his | Windows&nbsp;&nbsp; Tuomas</li><li>Sameer | He |Windows&nbsp;&nbsp; Tuomas</ul><br><br><br><h2>HPC - SHELL</h2><br><br><h4>Command notes</h4><br><br><strong>hotname</strong> - tells the name of the machine<br><strong>pwd</strong> - prints working directory ( ~ means home! i.e. your default directory)<br><strong>ls</strong>&nbsp; - lists the content of the directory<br>&nbsp; -l (long)<br>&nbsp;&nbsp; -a (all, even &quot;hidden&quot; files or directories, these that start with a &quot;.file&quot;)<br>&nbsp;&nbsp; a directory name (even . -here- or .. -directory above-)<br><strong>cd</strong> - change directory (we need a directory name, or a succession of them via dir1&#x2F;dir2&#x2F;...)<br><strong>mkdir</strong> - create (make) a directory&nbsp;<br><strong>rmdir</strong> - deletes (removes) a directory<br><strong>nano</strong> - a command-line text editor<br>&nbsp; nano filename&nbsp; - will &quot;create&quot; a file with that name if it doesn&#x27;t exist.<br>&nbsp; ^ = ctrl key; ^O = save; ^X = exit (it will ask if you want to save it if not done before)<br><strong>cat</strong> filename1 filename2 - concatenates the files on the screen<br><strong>cp</strong> filename1 filename_copy - copies a file into a new one<br><strong>rm</strong> filename - deletes (remove) the file (&#9888; there&#x27;s not a recycle bin &#9888;)<br><strong>mv</strong> filename_old filename_new - renames (moves) the file. It can also move it somewhere else.<br>&nbsp;&nbsp;&nbsp; mv filename_old directory&#x2F; - moves the file into that directory.<br><strong>rm -rf</strong> directory&nbsp; - deletes a directory even when there are files inside (-r for recursive, -f to &quot;force&quot;)<br><strong>tar</strong> - is a command to group&#x2F;ungroup multiple files into one<br>&nbsp; tar -xvf filename.tar.gz - unzip and extract the tar files (x for e<strong>x</strong>tract, v for <strong>v</strong>erbose, and f to point to read the filename)<br><strong>head</strong> filename - shows you the first 10 lines of a file<br><strong>tail</strong> filename - the last 10 lines of a file<br><strong>less</strong> filename - display the content of the file in a nice way that allows you to go up&#x2F;down, search, ...<br><strong>wc</strong> -l filename - tells you the number of <strong>l</strong>ines of that file<br>&nbsp; wc -l * - will run wc to all the files in the directory.<br>&nbsp; wc -l *.fasq - will run wc for the ones that end by .fasq<br><strong>&gt;</strong> - redirection command<br><strong>echo</strong> set of words - will print that on the screen<br>&nbsp; echo &quot;this is a test&quot; &gt; test.txt&nbsp; - redirects the output from echo into a file.<br><strong>&amp;&gt;</strong> - redirects the normal output (standard output) and the error output.<br><strong>&gt;&gt;</strong> - redirects like &gt; but appends to the end of the file<br><strong>grep</strong> something filename&nbsp; - finds where &quot;something&quot; is in filename<br><strong>|</strong> - Pipe command, the output of a command is sent as input for the next<br>&nbsp; grep something filename | head -n 1&nbsp; (shows only the first line of the output of grep)<br>&nbsp; grep something filename | wc -l (shows the number of lines where &quot;something&quot; appears in the filename)<br><strong>zcat</strong> filename.tar.gz - shows you the content of a zipped file<br><strong>chmod</strong> - changes file permissions (see &quot;Writing Scripts&quot;, below)<br><h4>Bonus Command Notes</h4><br>&nbsp; - If you&#x27;ve been using tar for a while, you might notice that we&#x27;ve skipped the &quot;z&quot; to indicate the compression format -- you don&#x27;t need to use this in modern versions of tar, it&#x27;ll automatically try to work it out.<br>&nbsp; - In other systems, you may need to redirect the standard error as: wc -l * &gt; lines_lengths 2&gt;&amp;1&nbsp; (redirects the standard output into lines_length, and the error (2) into where the standard output (1) is being redirected )<br>&nbsp;- Unlike .zip files you might be familiar with, .gz files only compress one file. This is why we combine the gzip format with a .tar file, which can bundle a collection of files together.<br>&nbsp;<br><h4> Writing scripts</h4><br>nano myscript.sh (Remember .sh is not needed, but it helps us to identify it as a shell script)<br><strong>#!&#x2F;bin&#x2F;bash</strong> - In the first line we tell linux what to use to execute this.<br>Other lines that start with <strong>#</strong> are comments and not executed<br><br>Permissions: When running &quot;ls -l&quot; it shows some columns at the beginning of each line:<br>&nbsp; -rw-r--r--: we can separate them into four: -&nbsp; rw-&nbsp; r-- r--&nbsp;<br><ol class="number"><li>&nbsp;&nbsp;&nbsp; whether it&#x27;s a file (-) or a directory (d) or some other more advance stuff</li><li>rwx : read, write, execute permissions for the owner of the file. In the above example the owner can only read and write.</li><li>and 4: same than 2 but for the group and the rest of the world. In the above example, they can only read.</ol><strong>chmod +x</strong> myscript.sh - Adds a &quot;execution&quot; persmission to myscript for the owner.<br><strong>.&#x2F;</strong>myscript.sh then can run<br><br><strong>Variables</strong><br>In bash you can define a variable as: VAR=&quot;this is something&quot;, but to refer to it you need to use $VAR. (echo $VAR)<br>Note, no spaces around the &quot;=&quot; sign!!<br><br>Save the output of a command into a variable:&nbsp;<br>TEST=ls -l&nbsp; -- It doesn&#x27;t work!<br>TEST=$(ls -l) -- it does!!<br><br><br><strong>Quiz #1 - Absolute vs Relative path</strong><br>cd .. or cd ~&nbsp; &#9989;<br>cd ..&nbsp; &#9989;<br>cd ~&nbsp; or cd .. or cd ~&#x2F;data&#x2F;.. &#9989;<br>cd .. &#9989;<br>cd .. &#9989;<br>5, 6, 7, 8, 9 (&#9989; all but no 6th)<br><br><br><strong>Dataset to use later</strong><br><code>wget http:&#x2F;&#x2F;rits.github-pages.ucl.ac.uk&#x2F;hpc-shell&#x2F;files&#x2F;bash-lesson.tar.gz</code><br><br>Exercise 1:<br><h2>Multiple wildcards</h2><br>You can even use multiple *s at a time. How would you run wc -l on every file with &#8220;fb&#8221; in i<br>wc -l *fb* &#9989;<br>wc -l *fb* &#9989;<br><br><h2>Using other commands</h2><br><ol class="number"><li><ol class="number"><li>Now let&#8217;s try cleaning up our working directory a bit. Create a folder called &#8220;fastq&#8221; and move all of our .fastq files there in one mv command.</ol></li></ol><br>mkdir fastq<br>mv *.fastq fastq<br>ls fastq&#x2F;<br><br><h2>Writing commands using pipes</h2><br>How many files are there in the &#8220;fastq&#8221; directory we made earlier? (Use the shell to do this.)<br><br>ls fastq | wc -l &#9989;<br>ls -l fastq&#x2F; | wc -l &#10060; (careful that -l shows you a line on the top with information of the directory!)<br>17<br>ls fastq | wc -l &#9989;<br><br><br><h2>Writing our own scripts and loops</h2><br><code>cd to our fastq directory from earlier and write a loop to print off the name and top 4 lines of every fastq file in that directory.</code><br>Is there a way to only run the loop on fastq files ending in _1.fastq?<br><br>#!&#x2F;bin&#x2F;bash<br><br>cd fastq<br>for FILE in *.fastq<br>do<br>&nbsp;&nbsp; echo $FILE<br>&nbsp;&nbsp; head -n 4 $FILE<br>done<br><br><br><br><strong>Feedback&nbsp; </strong><a href="https&#x3a;&#x2F;&#x2F;jamboard&#x2e;google&#x2e;com&#x2F;d&#x2F;1YfdfV4d5xSYSWz4P&#x2d;1K4qtWranudOr6wUp3480lkqa4&#x2F;edit&#x3f;usp&#x3d;sharing" rel="noreferrer noopener"><strong>https:&#x2F;&#x2F;jamboard.google.com&#x2F;d&#x2F;1YfdfV4d5xSYSWz4P-1K4qtWranudOr6wUp3480lkqa4&#x2F;edit?usp=sharing</strong></a><br><br><br><h2>HPC - INTRO 28.7.2020</h2><br><br><code>Instructors (in order of appearance)</code><br><ul class="bullet"><li>name | pronoun |&nbsp;</li><li>Tuomas Koskela | he&#x2F;him | MacOS -- Research Software Developer &#x2F; former plasma physicist<ul class="bullet"><li><a href="https&#x3a;&#x2F;&#x2F;shellshare&#x2e;net&#x2F;r&#x2F;i9aDHkkLZ9tJ3EBx9c" rel="noreferrer noopener">https:&#x2F;&#x2F;shellshare.net&#x2F;r&#x2F;i9aDHkkLZ9tJ3EBx9c</a></ul></li></ul><br><strong>Presenter</strong> - Room DJ<br><ul class="bullet"><li>name | pronoun |&nbsp;</li><li>David P&#233;rez-Su&#225;rez | He-him-his&nbsp; |&nbsp;</ul><br><strong>Helpers</strong> (in not any special order)<br><ul class="bullet"><li>name | pronoun | other info</li><li>Hillary Bunketi | she&#x2F;her</li><li>Ian Kirker | he&#x2F;him&#x2F;&#x2F;they&#x2F;them | macOS (HPC Cluster Support &#x2F; former Computational Chemist)</li><li>Tom Couch | he&#x2F;him</li><li>Matthew Gillman&nbsp; |&nbsp; |&nbsp;</li><li>Heather Kelly | she |&nbsp;</li><li></ul><br><strong>Learners &#x2F; Check in</strong><br><ul class="bullet"><li>Name | pronoun | Operative System &amp; Other info you would like to share |&nbsp; Helper assigned to you<ul class="bullet"><li>Shellshare link (it will be explained later)</ul><li>Angelos Kalitzeos | He | Linux - Institute of Ophthalmology, Postdoc&nbsp; |&nbsp;&nbsp; Hillary&nbsp;<ul class="bullet"><li><a href="https&#x3a;&#x2F;&#x2F;shellshare&#x2e;net&#x2F;r&#x2F;fnk1e3tIKXNnpvmd7R" rel="noreferrer noopener">https:&#x2F;&#x2F;shellshare.net&#x2F;r&#x2F;fnk1e3tIKXNnpvmd7R</a></ul><li>Jadesada Schneider | He&#x2F;him&#x2F;they| MacOS - Genetics, Evolution, Environment - Undergrad Intern&nbsp;&nbsp; |&nbsp; Hillary&nbsp;<ul class="bullet"><li><a href="https&#x3a;&#x2F;&#x2F;shellshare&#x2e;net&#x2F;r&#x2F;4y3e2dvSjzbfkgu4gQ" rel="noreferrer noopener">https:&#x2F;&#x2F;shellshare.net&#x2F;r&#x2F;4y3e2dvSjzbfkgu4gQ</a></ul><li>Jenifer Suntharalingham|She|Windows&nbsp; | Ian&nbsp;<ul class="bullet"><li>Sharing terminal in <a href="https&#x3a;&#x2F;&#x2F;shellshare&#x2e;net&#x2F;r&#x2F;lFUPnlbWcmRDDGdwC0" rel="noreferrer noopener">https:&#x2F;&#x2F;shellshare.net&#x2F;r&#x2F;lFUPnlbWcmRDDGdwC0</a></ul><li>Marina | She | Windows&nbsp;&nbsp; |&nbsp; Ian&nbsp;<ul class="bullet"><li></ul><li>Alex Ho | He | Windows&nbsp; |&nbsp; Matthew<ul class="bullet"><li><a href="https&#x3a;&#x2F;&#x2F;shellshare&#x2e;net&#x2F;r&#x2F;Kt9VeoSd2OpbYvkW5O" rel="noreferrer noopener">https:&#x2F;&#x2F;shellshare.net&#x2F;r&#x2F;Kt9VeoSd2OpbYvkW5O</a></ul><li>Alasdair Warwick | He | MacOS - medic, 1st year (end of) PhD&nbsp; | Matthew<ul class="bullet"><li><a href="https&#x3a;&#x2F;&#x2F;shellshare&#x2e;net&#x2F;r&#x2F;2S3jRn3emMe0UDAVSR" rel="noreferrer noopener">https:&#x2F;&#x2F;shellshare.net&#x2F;r&#x2F;2S3jRn3emMe0UDAVSR</a></ul><li>&nbsp;Wei Cui&nbsp;&nbsp; | He | Mac OS- economics department lecturer&nbsp; |&nbsp; Heather<ul class="bullet"><li><a href="https&#x3a;&#x2F;&#x2F;shellshare&#x2e;net&#x2F;r&#x2F;sK3zMR7x4wXk8nx1po" rel="noreferrer noopener">https:&#x2F;&#x2F;shellshare.net&#x2F;r&#x2F;sK3zMR7x4wXk8nx1po</a></ul><li>&nbsp;Mi |&nbsp; | Windows | Heather<ul class="bullet"><li><a href="https&#x3a;&#x2F;&#x2F;shellshare&#x2e;net&#x2F;r&#x2F;AIrhvc0NoLLYcim9Xb" rel="noreferrer noopener">https:&#x2F;&#x2F;shellshare.net&#x2F;r&#x2F;AIrhvc0NoLLYcim9Xb</a></ul><li>&nbsp;Sam | He&#x2F;him&#x2F;his | Windows&nbsp; | Tom<ul class="bullet"><li><a href="https&#x3a;&#x2F;&#x2F;shellshare&#x2e;net&#x2F;r&#x2F;I97kxs3q79FXXmKs0m" rel="noreferrer noopener">https:&#x2F;&#x2F;shellshare.net&#x2F;r&#x2F;I97kxs3q79FXXmKs0m</a></ul><li>Sameer | He |Windows&nbsp;&nbsp; | Tom<ul class="bullet"><li><a href="https&#x3a;&#x2F;&#x2F;shellshare&#x2e;net&#x2F;r&#x2F;SjeBH3j0SazBloVLNt" rel="noreferrer noopener">https:&#x2F;&#x2F;shellshare.net&#x2F;r&#x2F;SjeBH3j0SazBloVLNt</a></ul></li></ul><br><h2>Shellshare:</h2><br><code>wget -qO shellshare https:&#x2F;&#x2F;get.shellshare.net &amp;&amp; python shellshare</code><br><br><h3>ssh configuration (Include proxyCommand only if outside UCL VPN) </h3><br><a href="https&#x3a;&#x2F;&#x2F;www&#x2e;rc&#x2e;ucl&#x2e;ac&#x2e;uk&#x2F;docs&#x2F;howto&#x2F;&#x23;single&#x2d;step&#x2d;logins&#x2d;using&#x2d;tunnelling" rel="noreferrer noopener">https:&#x2F;&#x2F;www.rc.ucl.ac.uk&#x2F;docs&#x2F;howto&#x2F;#single-step-logins-using-tunnelling</a><br><br>Edit the file .ssh&#x2F;config and add the following<br><br><ul class="indent"><li>Host &lt;choose a name&gt;</li><li>HostName myriad.rc.ucl.ac.uk</li><li>User &lt;your username&gt;</li><li>ForwardX11Trusted yes</li><li>proxyCommand ssh -W myriad.rc.ucl.ac.uk:22 &lt;your_username&gt;@socrates.ucl.ac.uk</ul><br><h3>Exercise: Sharpen a fuzzy image</h3><br><ol class="number"><li>Clone the git repository <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;davidhenty&#x2F;sharpen" rel="noreferrer noopener">https:&#x2F;&#x2F;github.com&#x2F;davidhenty&#x2F;sharpen</a> to your Scratch directory on Myriad</li><li>Compile one of the parallel versions of sharpen, for example F-MPI<ol class="number"><li>Use the command make</li><li>You may need to load the compilers&#x2F;intel module</ol><li>Write a job script to run it on 2 processes<ol class="number"><li>Add #$ -pe mpi N option to request N processes</li><li>It will run in less than a minute and not require large amounts of memory or disk</ol><li>Submit the job and wait for it to run</li><li>Examine the output<ol class="number"><li>Load the graphicsmagick module and use gm display command to view image files</li><li>The scheduler output file contains performance information</ol><li>Repeat 3-5 with 4 processes, what happened to the run time?</ol><h4>How do you use computing in your work?</h4><br>Using Python&#x2F;Matlab based scripts to process image sequences (videos) that take quite a long time on a PC<br>For genetic analysis and running pipelines (still in beginner phase)<br>optimisation of molecular structure<br>Using R to analyse large healthcare datasets<br><br><h4>How would your work benefit from High Performance Computing?</h4><br>Matlab parellel computing&nbsp;<br>Myriad comes with a lot of useful modules of genetic analysis pre-installed<br>fast post processing<br>Be able to use this for my analysis have large data sets to analyse<br>intensive calculation<br>Manage large databases and run R which is too much for a standard computer<br><br><code>git clone https:&#x2F;&#x2F;github.com&#x2F;lh3&#x2F;seqtk.git</code><br><h3>Commands:</h3><br><strong>nproc</strong> --all&nbsp; -&nbsp; Number of CPUs<br><strong>free</strong> -h&nbsp; -&nbsp; Memory available<br><strong>nodetypes</strong> - Shows the different types of nodes<br><strong>qhost</strong> - gives you the information of all the nodes<br><strong>qhost</strong> -h &lt;nodename&gt; - gives you information about the node<br><strong>qsub</strong> script - to submit the job<br><strong>qstat</strong> - tells you whehter the job is running, waiting,...&nbsp;<br><strong>watch</strong> -n 10 &lt;command&gt; - runs a command every 10 seconds<br><strong>ctrl+R</strong> - allows you to search backwards in the terminal history<br><strong>qdel</strong> &lt;jobnumber&gt; - it cancels a particular job<br><strong>qdel </strong>-u &lt;user&gt; - it will cancel all jobs from your users<br><strong>qrsh -l</strong> &lt;and other options&gt; - it gets you access to an interactive shell<br><ul class="indent"><li>qrsh -l mem=512M,h_rt=0:10:00&nbsp; (note! commands separated by a comma, and without spaces)</ul><strong>module list</strong> - Shows a list of the modules that has been loaded<br><strong>module avail</strong> - What&#x27;s available in the system<br>&nbsp;&nbsp; module avail python - will show only the ones related with python.<br><strong>module load </strong>&lt;modulename&gt; - adds that module to your &quot;environment&quot;.<br><strong>module unload </strong>&lt;modulename&gt; - removes that module to your &quot;environment&quot;.<br><strong>module swap </strong>&lt;modulename&gt;&#x2F;version - to swap between different version<br><strong>module purge</strong> - to remove all the modules. One way to recover them back is to log-out&#x2F;in again.<br><strong>&nbsp;&nbsp;&nbsp; module load default-modules&#x2F;2018</strong> - will load the default env too.<br><strong>module show </strong>&lt;modulename&gt; - tells you what it does when you load the module<br><strong>echo $PATH</strong> - shows you the places where the Operative System looks for a program when you call it. $PATH is an environment variable and is modified when we (un)load modules.<br><strong>lquota</strong> - shows the quota your accounts has got (as in disk space)<br><strong>scp&nbsp;</strong> from to - copy files via ssh<br>&nbsp; - on your own machine: scp &lt;username&gt;@myriad.rc.ucl.ac.uk:&#x2F;path&#x2F;to&#x2F;file&#x2F;to&#x2F;copy&nbsp; .<br>&nbsp;&nbsp;&nbsp;&nbsp; (note the last dot! that means &quot;here&quot; as to the directory you run that command)<br>&nbsp;- on your own machine: scp localfile.pdf&nbsp; &lt;username&gt;@myriad.rc.ucl.ac.uk:~&#x2F;hpc-test<br>&nbsp;&nbsp;&nbsp; (note the ~ is a shortcut for &#x2F;home&#x2F;&lt;username&gt;&#x2F; )<br><code>rsync -avzP path&#x2F;to&#x2F;local&#x2F;file.txt yourUsername@myriad.rc.ucl.ac.uk:path&#x2F;on&#x2F;Myriad</code><br><strong>tar</strong> czvf my_job.tar.gz job* - will tar and zip all the files that start by job<br><br><br><strong>~&#x2F;.bashrc</strong>&nbsp; - is a file that sets some variables when you login into the shell. You can add `module load &lt;modulename&gt;` commands there, so you don&#x27;t need to run them everytime you log into myriad.<br><br><code>Options for the scheduler (man qsub) </code><br><strong>#$ -N</strong> &lt;jobname&gt;&nbsp; - the name of the job<br><strong>#$ -wd </strong>&#x2F;path&#x2F;to&#x2F;working&#x2F;directory -&nbsp; defines where you want the code to &quot;run&quot;<br><strong>#$ -l h_rt=</strong>hh:mm:ss&nbsp; - How much real-world time you need to run the job<br><strong>#$ -pe&nbsp; mpi</strong> - How many CPUs does your job need?&nbsp;<br><strong>#$ -mem=</strong>&lt;bytes&gt; - How much memory per process does your job need?&nbsp;<br><strong>#$ -m be</strong> - sends an email when <strong>b</strong>egins&#x2F;<strong>e</strong>nds&#x2F;<strong>a</strong>borts o reschedules&#x2F;<strong>s</strong>uspends<br><strong>#$ -M </strong>e-mail@address - to who you want to spam with your results<br><br><br><br><br><br><br><br><a href="https&#x3a;&#x2F;&#x2F;jamboard&#x2e;google&#x2e;com&#x2F;d&#x2F;1YfdfV4d5xSYSWz4P&#x2d;1K4qtWranudOr6wUp3480lkqa4&#x2F;viewer&#x3f;f&#x3d;0" rel="noreferrer noopener">https:&#x2F;&#x2F;jamboard.google.com&#x2F;d&#x2F;1YfdfV4d5xSYSWz4P-1K4qtWranudOr6wUp3480lkqa4&#x2F;viewer?f=0</a><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>
